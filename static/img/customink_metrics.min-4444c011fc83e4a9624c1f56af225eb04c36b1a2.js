!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Metrics=t():(e.CustomInk=e.CustomInk||{},e.CustomInk.Metrics=t())}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(){return new h}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();t.initialize=a;var c=n(1),s=o(c),l=n(8),d=o(l),f=n(9),p=o(f),g=n(10),m=n(7),y=n(12),h=function(){function e(){r(this,e)}return u(e,[{key:"logInteractionCookie",value:function(){(0,y.interactions)()}},{key:"fireInitialPageView",value:function(){s["default"].triggerPageLoad()}},{key:"enqueue",value:function(){d["default"].enqueue(arguments)}},{key:"addEvent",value:function(e){return p["default"].add(e),p["default"].firedEvents}},{key:"pageTest",value:function(e){(0,g.pageTest)(e)}},{key:"pageViewTag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Array.isArray(e)?e:[e],s["default"].pageViewTag(e,t)}},{key:"sessionPageViewTag",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Array.isArray(e)?e:[e],e.forEach(function(o){p["default"].hasFired(o)||(s["default"].pageViewTag(e,n),t.addEvent(o))})}},{key:"fireEvent",value:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("object"===("undefined"==typeof e?"undefined":i(e)))var r=e;else r={category:e,action:t,label:n};var a=(0,m.merge)(r,o);s["default"].fireEvent(a)}},{key:"registerUser",value:function(e){s["default"].setUser(e)}},{key:"registerProduct",value:function(e){s["default"].addProduct(e)}},{key:"registerPurchase",value:function(e){s["default"].registerPurchase(e)}},{key:"registerDimension",value:function(e,t){s["default"].registerDimension(e,t)}},{key:"registerMetric",value:function(e,t){s["default"].registerMetric(e,t)}}]),e}();t["default"]=h},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.attrs&&(t=l(t.attrs)),e.forEach(function(e){(0,g["default"])("send","pageview",e,t)}),!0}function a(){var e=window.__PAGE_NAME__?window.__PAGE_NAME__:null,t=window.__PAGE_FIELDS__?{location:document.location.pathname,title:document.title}:{};c(),(0,g["default"])("send","pageview",e,t)}function i(e){var t={hitType:"event",eventAction:e.action,eventCategory:e.category,eventLabel:e.label||null,eventValue:e.value||null,nonInteraction:"undefined"!=typeof e.interaction&&!e.interaction};return delete e.action,delete e.category,delete e.label,delete e.value,(0,g["default"])("send",(0,b.merge)(t,l(e))),!0}function u(e){(0,g["default"])("ec:addProduct",e)}function c(e){_["default"].identify(e)}function s(e){(0,g["default"])("ec:setAction","purchase",e)}function l(e){var t={};for(var n in e)y["default"].hasOwnProperty(n)?t["dimension"+y["default"][n]]=e[n]:v["default"].hasOwnProperty(n)&&(t["metric"+v["default"][n]]=e[n]);return t}function d(e,t){y["default"].hasOwnProperty(e)&&(0,g["default"])("set","dimension"+y["default"][e],t)}function f(e,t){v["default"].hasOwnProperty(e)&&(0,g["default"])("set","metric"+v["default"][e],t)}Object.defineProperty(t,"__esModule",{value:!0});var p=n(2),g=o(p),m=n(3),y=o(m),h=n(4),v=o(h),w=n(5),_=o(w),b=n(7);t["default"]={pageViewTag:r,fireEvent:i,addProduct:u,setUser:c,registerPurchase:s,registerDimension:d,registerMetric:f,triggerPageLoad:a}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t["default"]=function(){window.ga.apply(window,arguments)};var o="production"===window.__ENV__?"UA-860220-1":"UA-860220-30",r=n({cookieDomain:"auto"},window.__TRACKING_OPTS__||{});"function"!=typeof window.ga&&(!function(e,t,n,o,r,a,i){e.GoogleAnalyticsObject=r,e[r]=e[r]||function(){(e[r].q=e[r].q||[]).push(arguments)},e[r].l=1*new Date,a=t.createElement(n),i=t.getElementsByTagName(n)[0],a.async=1,a.src=o,i.parentNode.insertBefore(a,i)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),window.ga("create",o,r),window.ga("require","GTM-W968GWD"))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={labLoadProductStyle:1,labLoadProductColor:2,labLoadProductCategory:3,Error:4,catalogsearchresults:5,postalCode:6,userId:7,HomepageMarqueeTest:8,Breakpoint:9,ViewPort:10,WithDesign:11,searchOrigin:13,"catalog 1_2 test":14,navReferral:15,cloudflare:16,uploadRasterVector:17,uploadProductColor:18,uploadProductLightDark:19,uploadGrayscale:20,uploadHasWhite:21,uploadBackgroundDetected:22,uploadOnlyWhite:23,uploadFilename:24,DefaultBlank:25,quotedProductStyle:26,quantity:27,quotedProductColor:28,quotedPrice:29,caveat:30,multiStyle:31,colorCountFront:32,colorCountBack:33,quotedProductCategory:34,reorder:35,gof:36,bulkSingles:37,orderidError:38,accountType:39,clipArtId:40,logInState:41,"Normalized Page Name":42,myDesignsLogInState:43,uploadColorCount:44,uploadColorType:45,RestingScreenClick:46,campaignURL:47,assistedDesignID:48,designTemplateID:49,artMultiColor:50,labLoadBuyNow:51,labLoadKeyword:52,labLoadComplementaryStyles:53,labLoadOrderOptions:54,campaignCollectionURL:55,orderAnythingLocation:56,orderAnythingProduct:57,orderAnythingWCIBMO:58,promoCode:59,labLoadMethod:61,adDecisionClose:64,internalUser:65,adPromoSource:66,adSaveIndex:67,campaignURLLaunched:68,CampaignState:69,firstTimeSaver:70,saveDesignID:71,saveProductStyle:72,saveProductCategory:73,saveProductColor:74,labLoadDesignTemplateID:75};t["default"]=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={"Saved Design":1};t["default"]=n},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(6),u=o(i),c=n(2),s=o(c),l=n(3),d=o(l),f="_ci_gaid",p=function(){function e(){r(this,e)}return a(e,null,[{key:"identify",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.get(f);return!!e&&(this.set(e),!0)}},{key:"set",value:function(e){u["default"].set(f,e),(0,s["default"])("set","userId",e),(0,s["default"])("set","dimension"+d["default"].userId,e)}},{key:"get",value:function(){return u["default"].get(f)}}]),e}();t["default"]=p},function(e,t,n){var o;!function(r,a){"use strict";var i=function(e){if("object"!=typeof e.document)throw new Error("Cookies.js requires a `window` with a `document` object");var t=function(e,n,o){return 1===arguments.length?t.get(e):t.set(e,n,o)};return t._document=e.document,t._cacheKeyPrefix="cookey.",t._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),t.defaults={path:"/",secure:!1},t.get=function(e){t._cachedDocumentCookie!==t._document.cookie&&t._renewCache();var n=t._cache[t._cacheKeyPrefix+e];return n===a?a:decodeURIComponent(n)},t.set=function(e,n,o){return o=t._getExtendedOptions(o),o.expires=t._getExpiresDate(n===a?-1:o.expires),t._document.cookie=t._generateCookieString(e,n,o),t},t.expire=function(e,n){return t.set(e,a,n)},t._getExtendedOptions=function(e){return{path:e&&e.path||t.defaults.path,domain:e&&e.domain||t.defaults.domain,expires:e&&e.expires||t.defaults.expires,secure:e&&e.secure!==a?e.secure:t.defaults.secure}},t._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t._getExpiresDate=function(e,n){if(n=n||new Date,"number"==typeof e?e=e===1/0?t._maxExpireDate:new Date(n.getTime()+1e3*e):"string"==typeof e&&(e=new Date(e)),e&&!t._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},t._generateCookieString=function(e,t,n){e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent),e=e.replace(/\(/g,"%28").replace(/\)/g,"%29"),t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),n=n||{};var o=e+"="+t;return o+=n.path?";path="+n.path:"",o+=n.domain?";domain="+n.domain:"",o+=n.expires?";expires="+n.expires.toUTCString():"",o+=n.secure?";secure":""},t._getCacheFromString=function(e){for(var n={},o=e?e.split("; "):[],r=0;r<o.length;r++){var i=t._getKeyValuePairFromCookieString(o[r]);n[t._cacheKeyPrefix+i.key]===a&&(n[t._cacheKeyPrefix+i.key]=i.value)}return n},t._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("=");t=0>t?e.length:t;var n,o=e.substr(0,t);try{n=decodeURIComponent(o)}catch(r){console&&"function"==typeof console.error&&console.error('Could not decode cookie with key "'+o+'"',r)}return{key:n,value:e.substr(t+1)}},t._renewCache=function(){t._cache=t._getCacheFromString(t._document.cookie),t._cachedDocumentCookie=t._document.cookie},t._areEnabled=function(){var e="cookies.js",n="1"===t.set(e,1).get(e);return t.expire(e),n},t.enabled=t._areEnabled(),t},u="object"==typeof r.document?i(r):i;o=function(){return u}.call(t,n,t,e),!(o!==a&&(e.exports=o))}("undefined"==typeof window?this:window)},function(e,t){"use strict";function n(e,t){for(var n in t)e.hasOwnProperty||(e[n]=t[n]);return e}Object.defineProperty(t,"__esModule",{value:!0}),t.merge=n},function(e,t){"use strict";function n(e){var t=Array.apply(null,e);return t.length>0&&(i.push(t),!0)}function o(){i=[]}function r(){i.forEach(function(e){var t=a(e);t[0].apply(this,t[1])})}function a(e){var t=e.shift(),n=e;return[t,n]}Object.defineProperty(t,"__esModule",{value:!0});var i=[];t["default"]={enqueue:n,work:r,queue:i,reset:o}},function(e,t){"use strict";function n(e){o(e)||r.push(e)}function o(e){return-1!==r.indexOf(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=[];t["default"]={add:n,hasFired:o,firedEvents:r}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.pageTest=void 0;var r=n(11),a=o(r),i=function(e){var t,n,o,r;null!=e&&(t=new a["default"],n=new Date,r=t.get("page_tests",{}),Array.isArray(r)&&(r=s(r)),o=u(r,n),void 0===o&&(o=n.getTime(),r[o]=[]),c(r[o],e),t.set("page_tests",r,new Date(n.getTime()+63072e7)))},u=function(e,t){var n,o,r,a;n=new Date(t.getTime()).setHours(0,0,0,0),o=new Date(t.getTime()).setHours(23,59,59,999);for(r in e)e.hasOwnProperty(r)&&r>=n&&o>=r&&(a=r);return a},c=function(e,t){e.indexOf(t)<0&&e.push(t)},s=function(e){var t,n,o,r,a;for(r={},t=function(e){var t;return t=u(r,new Date(e.date)),void 0===t?(r[e.date]=[],t=e.date):e.date<t&&(r[e.date]=r[t].slice(),delete r[t],t=e.date),c(r[t],e.page)},n=0,o=e.length;o>n;n++)a=e[n],t(a);return r};t.pageTest=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){this.path="/",this.expires=new Date((new Date).getTime()+6048e5),this.domain=null,this.secure=!1,this.state=this.readCookies()};o.prototype={get:function(e,t){return"undefined"==typeof this.state[e]?t:this.decodeValue(this.state[e])},set:function(e,t,n){return"undefined"==typeof t||null===t?void this.clear(e):(this.setCookie(e,this.encodeValue(t),n),void(this.state[e]=this.encodeValue(t)))},clear:function(e){this.clearCookie(e),delete this.state[e]},decodeValue:function(e){var t,n,o,r,a=/^(a|n|d|b|s|o)\:(.*)$/,i=a.exec(decodeURIComponent(e));if(!i||!i[1])return"null"===e?null:e;var u=i[1],c=i[2];switch(u){case"n":return parseFloat(c);case"d":return new Date(Date.parse(c));case"b":return"1"==c;case"a":for(t=[],n=c.split("^"),o=0,r=n.length;r>o;o++)t.push(this.decodeValue(n[o]));return t;case"o":for(t={},n=c.split("^"),o=0,r=n.length;r>o;o++){var s=n[o].split("=");t[s[0]]=this.decodeValue(s[1])}return t;default:return c}},encodeValue:function(){var e=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t=function(e){return"[object Date]"===Object.prototype.toString.call(e)};return function(o){var r,a;if("number"==typeof o)r="n:"+o;else if("boolean"==typeof o)r="b:"+(o?"1":"0");else if(t(o))r="d:"+o.toGMTString();else if(e(o)){a="";for(var i=0,u=o.length;u>i;i++)a+=this.encodeValue(o[i]),i!=u-1&&(a+="^");r="a:"+a}else if("object"==("undefined"==typeof o?"undefined":n(o))){a="";for(var c in o)"function"!=typeof o[c]&&(a+=c+"="+this.encodeValue(o[c])+"^");r="o:"+a.substring(0,a.length-1)}else r="s:"+o;return encodeURIComponent(r)}}(),readCookies:function(){for(var e,t,n,o={},r=document.cookie+";",a=/\s?(.*?)=(.*?);/g;null!==(e=a.exec(r));)t=e[1],n=e[2],o[t]=n;return o},setCookie:function(e,t,n){var o;o=null===n||void 0===n?this.expires:"session"==n?null:n||null,this.expires=o,document.cookie=e+"="+t+(null===o?"":"; expires="+o.toGMTString())+(null===this.path?"":"; path="+this.path)+(null===this.domain?"":"; domain="+this.domain)+(this.secure===!0?"; secure":"")},clearCookie:function(e){document.cookie=e+"=null; expires=Thu, 01-Jan-70 00:00:01 GMT"+(null===this.path?"":"; path="+this.path)+(null===this.domain?"":"; domain="+this.domain)+(this.secure===!0?"; secure":"")}},t["default"]=o},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(){function e(e){for(var t={},n=e.slice(e.indexOf("?")+1).split("&"),o=0;o<n.length;o++){var r=n[o].split("=");t[r[0].toLowerCase()]=r[1]}return t}function t(e){return e.match(/^[^\?]*google\.com/)?"G":e.match(/^[^\?]*yahoo\.com/)?"Y":e.match(/^[^\?]*bing\.com/)?"B":void 0}function n(t,n){var o=e(t);switch(n){case"G":return o.q?decodeURIComponent(o.q.replace(/\+/g," ")).toLowerCase():"";case"Y":return o.p?decodeURIComponent(o.p.replace(/\+/g," ")).toLowerCase():"";case"B":return o.q?decodeURIComponent(o.q.replace(/\+/g," ")).toLowerCase():""}}function o(e){if(""===e){var t="undefined"==typeof window.fallbackBrandCode?"":window.fallbackBrandCode;return"SS"+t}var n=e.match(/(try|tri|go)?\s*(?:cus|kus|cos|cous|cu)(?:tom|tum|tome|tume|ton)(?:ized?)?\s*(?:ink|inc|i|link|lnk)/);return n?void 0===n[1]?"B":"go"===n[1]?"BTV2":"BTV":"N"}function r(e){return e.match(/^[^\?]*forum|messages\.|boards\./)?"REF-1001":e.match(/^[^\?]*\.myspace\.com|\.linkedin\.com|\.facebook\.com|\.ning\.com/)?"REF-1002":e.match(/^[^\?]*\.twitter\.com/)?"REF-1003":e.match(/^[^\?]*digg\.com|\.delicious\.com|\.stumbleupon\.com/)?"REF-1004":e.match(/^[^\?]*mail\./)?"REF-1005":e.match(/^[^\?]*customink\.rsys1\.net/)?"REF-1006":e.match(c)?"REF-1007":"REF-1000"}function a(e){var t,n=new i["default"],o=(new Date).getTime(),r=o-3e5,a=n.get("interactions",[]),u={code:e,date:o};for(a.length>20&&(a=a.slice(0,2)),t=a.length-1;t>=0;t--)if(a[t].date>r&&a[t].code===e)return;var c=new XMLHttpRequest;c.overrideMimeType("application/json");var s="/interactions/date";c.open("GET",s),c.timeout=3e3,c.onreadystatechange=function(){c.readyState===XMLHttpRequest.DONE&&200===c.status&&(a.date=c.responseText.date,a.push(u),n.set("interactions",a,new Date(o+63072e7)))},c.send()}function u(){var u,c=e(window.location.href).pc;if(c)u=c;else{var s=new i["default"],l=s.get("referrer",window.document.referrer);if(s.clear("referrer"),l){if(!l.match(/^[^\?]*customink\.com/)){var d=t(l);u=d?"N"+o(n(l,d))+d+"-1000":r(l)}}else u="DL-1000"}u&&a(u)}var c=function(){var e="";return e+="[\\w\\d]*\\.?",e+="(?:",e+="wordpress\\.com|",e+="blogger\\.com|",e+="tumblr\\.com|",e+="posterous\\.com|",e+="livejournal\\.com|",e+="thoughts\\.com|",e+="xanga\\.com|",e+="typepad\\.com|",e+="typepad\\.com|",e+="blogspot\\.com|",e+="[\\w\\d]*blog[\\w\\d]*.[\\w\\d]+)",e+="|[\\w\\d]*blog[\\w\\d]*\\.[\\w\\d]+\\.[\\w\\d]+|[\\w\\d]+\\.[\\w\\d]+\\.[\\w\\d]+\\/[\\w\\d]*blog[\\w\\d]*",e=new RegExp(e)}();u()}Object.defineProperty(t,"__esModule",{value:!0}),t.interactions=r;var a=n(11),i=o(a)}])});